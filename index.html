<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="scale generator,chord generator,music,scales,scales,chord,chords,note,notes,mode,modes,harmonization,guitar,fretboard,keyboard" name=keywords>
    <title>Music Companion</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="img/G_clef.png">
    <link rel="icon" href="img/G_clef.png">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/notes.js"></script>
    <script src="js/intervals.js"></script>
    <script src="js/scales.js"></script>
    <script src="js/chords.js"></script>
    <script src="js/roman.js"></script>
    <script src="js/array_tools.js"></script>
    <script src="js/functions.js"></script>
    <script src="js/fretboard.js"></script>
    <script src="js/keyboard.js"></script>
    <script src="js/scale_finder.js"></script>
    <script src="js/script.js"></script>

    <!-- //////////////////////////////// MIDI //////////////////////////// -->

    <!-- shims -->
    <script src="js/midi/Base64.js" type="text/javascript"></script>
    <script src="js/midi/Base64binary.js" type="text/javascript"></script>
    <script src="js/midi/WebAudioAPI.js" type="text/javascript"></script>
    <!-- midi.js -->
    <script src="js/midi/audioDetect.js" type="text/javascript"></script>
    <script src="js/midi/gm.js" type="text/javascript"></script>
    <script src="js/midi/loader.js" type="text/javascript"></script>
    <script src="js/midi/plugin.audiotag.js" type="text/javascript"></script>
    <script src="js/midi/plugin.webaudio.js" type="text/javascript"></script>
    <script src="js/midi/plugin.webmidi.js" type="text/javascript"></script>
    <!-- utils -->
    <script src="js/midi/dom_request_xhr.js" type="text/javascript"></script>
    <script src="js/midi/dom_request_script.js" type="text/javascript"></script>
    <!-- soundfonts -->
    <script src="js/midi/soundfonts/acoustic_grand_piano-ogg.js" type="text/javascript"></script>
    
    <script src="js/functions_play.js" type="text/javascript"></script>
    <script src="js/strings.js" type="text/javascript"></script>
  </head>
  <body onresize="onResize()">
    <h3>&#x1d11e;&nbsp;&nbsp;<span id="header_title">Music Scale Explorer</span>&nbsp;&nbsp;&#x1d11e;</h3>
    <center>
      <p style="font-family:Arial, Helvetica, sans-serif;">
      <span id="select_key_text">Select your key:</span>

      <!-- NOTES -->
      <select name="notes" id="note" onchange="onNoteChanged()">
      </select>

      <!-- SCALES / MODES -->
      <select name="scales" id="scale" onchange="onScaleChanged()">
      </select>

      <!-- Checkboxes -->

      <!--input type="checkbox" id="checkboxNotes" name="checkboxNotes" checked onchange="toggleDisplay('scale_result')">
      <label class="input-label" for="checkboxNotes">Notes</label>
      
      <input type="checkbox" id="checkboxChords3" name="checkboxChords3" checked onchange="toggleDisplay('chords3_result')">
      <label class="input-label" for="checkboxChords3">3-Chords</label>

      <input type="checkbox" id="checkboxChords4" name="checkboxChords4" checked onchange="toggleDisplay('chords4_result')">
      <label class="input-label" for="checkboxChords4">4-Chords</label-->

      <input type="checkbox" id="checkboxChords" name="checkboxChords" checked onchange="toggleDisplay('chords3_result');toggleDisplay('chords4_result');">
      <label class="input-label" id="checkboxChordsLabel" for="checkboxChords">Chords</label>

      <input type="checkbox" id="checkboxGuitar" name="checkboxGuitar" checked onchange="toggleDisplay('canvas_guitar')">
      <label class="input-label" id="checkboxGuitarLabel" for="checkboxGuitar">Guitar</label>

      <input type="checkbox" id="checkboxKeyboard" name="checkboxKeyboard" checked onchange="toggleDisplay('canvas_keyboard')">
      <label class="input-label" id="checkboxKeyboardLabel" for="checkboxKeyboard">Keyboard</label>

      <input type="checkbox" id="checkboxLanguage" name="checkboxLanguage" onchange="updateLanguage()">
      <label class="input-label" for="checkboxLanguage"><img src="img/french_flag.png" alt="FR"/></label>
      
    </p>
    </center>

    <p id='scale_result'>?</p>
    
    <p id='chords3_result'>?</p>
    
    <p id='chords4_result'>?</p>

    <canvas id="canvas_guitar" width="600" height="200" style="cursor: pointer;" onclick="saveFretboardImage()">
      Your browser does not support the canvas element.
    </canvas>

    <canvas id="canvas_keyboard" width="600" height="200" style="cursor: pointer;" onclick="saveKeyboardImage()">
      Your browser does not support the canvas element.
    </canvas>

    <p id='relative_scales'style="text-align: center;">?</p>

    <script>
      // init
      updateSelectors();
      onResize();
      onNoteChanged();
    </script>

    <script>

      window.onload = function ()
      {
        MIDI.loadPlugin(
        {
          soundfontUrl: "./soundfont/",
          instrument: "acoustic_grand_piano",
          onprogress: function(state, progress)
          {
            //console.log(state, progress);
          },
          onsuccess: function()
          {
            //
          }
        });
      };

    </script>

    <footer>Copyright &copy; 2020 Nico</footer>
  </body>
</html>